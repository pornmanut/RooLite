{
  "modes": {
    "code": {
      "required_modules": [
        "core.tool-format",
        "core.base-rules",
        "core.system-info",
        "tools.file-ops.*",
        "tools.search-ops.*"
      ],
      "optional_modules": [
        "tools.mcp.*",
        "core.optional.extended-capabilities"
      ],
      "instructions": [
        "shared.language-prefs",
        "mode-specific.code-instructions"
      ],
      "restrictions": {
        "file_patterns": [".*"],
        "tool_access": ["all"]
      }
    },
    "architect": {
      "required_modules": [
        "core.tool-format",
        "core.base-rules",
        "core.system-info",
        "tools.search-ops.*",
        "tools.read.*"
      ],
      "optional_modules": [
        "tools.mcp.*"
      ],
      "instructions": [
        "shared.language-prefs",
        "mode-specific.architect-instructions"
      ],
      "restrictions": {
        "file_patterns": ["\\.md$"],
        "tool_access": ["read", "search", "ask"]
      }
    },
    "orchestrator": {
      "required_modules": [
        "core.tool-format",
        "core.base-rules",
        "core.system-info"
      ],
      "optional_modules": [
        "tools.mcp.*"
      ],
      "instructions": [
        "shared.language-prefs",
        "mode-specific.orchestrator-instructions"
      ],
      "restrictions": {
        "file_patterns": [],
        "tool_access": ["switch_mode", "ask"]
      }
    },
    "debug": {
      "required_modules": [
        "core.tool-format",
        "core.base-rules",
        "core.system-info",
        "tools.file-ops.*",
        "tools.search-ops.*"
      ],
      "optional_modules": [
        "tools.mcp.*",
        "core.optional.extended-capabilities"
      ],
      "instructions": [
        "shared.language-prefs",
        "mode-specific.debug-instructions"
      ],
      "restrictions": {
        "file_patterns": [".*"],
        "tool_access": ["read", "edit", "command", "search"]
      }
    },
    "handoff-manager": {
      "required_modules": [
        "core.tool-format",
        "core.base-rules",
        "core.system-info",
        "tools.file-ops.*",
        "tools.search-ops.*"
      ],
      "optional_modules": [
        "tools.mcp.*"
      ],
      "instructions": [
        "shared.language-prefs",
        "mode-specific.handoff-manager-instructions"
      ],
      "restrictions": {
        "file_patterns": ["\\.md$"],
        "tool_access": ["read", "edit", "search"]
      }
    },
    "milestone-manager": {
      "required_modules": [
        "core.tool-format",
        "core.base-rules",
        "core.system-info",
        "tools.file-ops.*",
        "tools.search-ops.*"
      ],
      "optional_modules": [
        "tools.mcp.*"
      ],
      "instructions": [
        "shared.language-prefs",
        "mode-specific.milestone-manager-instructions"
      ],
      "restrictions": {
        "file_patterns": ["\\.md$"],
        "tool_access": ["read", "edit", "search", "command"]
      }
    },
    "session-restorer": {
      "required_modules": [
        "core.tool-format",
        "core.base-rules",
        "core.system-info",
        "tools.file-ops.read_file",
        "tools.file-ops.list_files",
        "tools.search-ops.*"
      ],
      "optional_modules": [
        "tools.mcp.*"
      ],
      "instructions": [
        "shared.language-prefs",
        "mode-specific.session-restorer-instructions"
      ],
      "restrictions": {
        "file_patterns": ["\\.md$"],
        "tool_access": ["read", "search"]
      }
    },
    "devops": {
      "required_modules": [
        "core.tool-format",
        "core.base-rules",
        "core.system-info",
        "tools.file-ops.*",
        "tools.search-ops.*"
      ],
      "optional_modules": [
        "tools.mcp.*",
        "core.optional.extended-capabilities"
      ],
      "instructions": [
        "shared.language-prefs",
        "mode-specific.devops-instructions"
      ],
      "restrictions": {
        "file_patterns": [
          "\\.(tf|ya?ml|json|conf|sh|py|md)$"
        ],
        "tool_access": ["read", "edit", "command", "search", "mcp"]
      }
    }
  },
  "defaults": {
    "required_modules": [
      "core.tool-format",
      "core.base-rules",
      "core.system-info"
    ],
    "instructions": [
      "shared.language-prefs"
    ],
    "restrictions": {
      "file_patterns": [".*"],
      "tool_access": ["read", "ask"]
    }
  }
}